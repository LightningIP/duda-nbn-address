define(["exports","./box.js"],function(f,a){"use strict";function u(n){const i=n.getBoundingClientRect(),o=getComputedStyle(n),e=o.transform;if(e){let t,s,r,c,d;if(e.startsWith("matrix3d("))t=e.slice(9,-1).split(/, /),s=+t[0],r=+t[5],c=+t[12],d=+t[13];else if(e.startsWith("matrix("))t=e.slice(7,-1).split(/, /),s=+t[0],r=+t[3],c=+t[4],d=+t[5];else return new a.Box(i);const l=o.transformOrigin,m=i.x-c-(1-s)*parseFloat(l),y=i.y-d-(1-r)*parseFloat(l.slice(l.indexOf(" ")+1)),g=s?i.width/s:n.offsetWidth+1,x=r?i.height/r:n.offsetHeight+1;return new a.Box({x:m,y,width:g,height:x})}else return new a.Box(i)}function h(n,i,o){if(typeof n.animate>"u")return{finished:Promise.resolve()};let e;try{e=n.animate(i,o)}catch{return{finished:Promise.resolve()}}return typeof e.finished>"u"&&(e.finished=new Promise(t=>{e.onfinish=()=>{t(e)}})),e}f.animate=h,f.nullifyTransforms=u,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
