define(["exports","./color/APCA","./console","./helpers","./color/transformCIELAB","./color/transformSRGB"],function(r,M,S,f,b,g){"use strict";function V(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function T(t){return V(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const p=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,X={rgb:(t,n,a,e)=>({r:t,g:n,b:a,a:e}),rgba:(t,n,a,e)=>({r:t,g:n,b:a,a:e}),hsl:(t,n,a,e)=>m({h:t,s:n,l:a,a:e}),hsla:(t,n,a,e)=>m({h:t,s:n,l:a,a:e}),hsv:(t,n,a,e)=>o({h:t,s:n,v:a,a:e}),hsva:(t,n,a,e)=>o({h:t,s:n,v:a,a:e})};function c(t){if(typeof t=="number")return(isNaN(t)||t<0||t>16777215)&&S.consoleWarn(`'${t}' is not a valid hex color`),{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&p.test(t)){const{groups:n}=t.match(p),{fn:a,values:e}=n,i=e.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(a)?parseFloat(s)/100:parseFloat(s));return X[a](...i)}else if(typeof t=="string"){let n=t.startsWith("#")?t.slice(1):t;[3,4].includes(n.length)?n=n.split("").map(e=>e+e).join(""):[6,8].includes(n.length)||S.consoleWarn(`'${t}' is not a valid hex(a) color`);const a=parseInt(n,16);return(isNaN(a)||a<0||a>4294967295)&&S.consoleWarn(`'${t}' is not a valid hex(a) color`),H(n)}else if(typeof t=="object"){if(f.has(t,["r","g","b"]))return t;if(f.has(t,["h","s","l"]))return o(F(t));if(f.has(t,["h","s","v"]))return o(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Y(t){return(t.r<<16)+(t.g<<8)+t.b}function G(t,n,a){const[e,i]=t.toString().trim().replace("-","").split(" ",2);let s="";return e&&e in n?i&&i in n[e]?s=n[e][i]:"base"in n[e]&&(s=n[e].base):e&&e in a&&(s=a[e]),s}function o(t){const{h:n,s:a,v:e,a:i}=t,s=h=>{const l=(h+n/60)%6;return e-e*a*Math.max(Math.min(l,4-l,1),0)},u=[s(5),s(3),s(1)].map(h=>Math.round(h*255));return{r:u[0],g:u[1],b:u[2],a:i}}function m(t){return o(F(t))}function $(t){if(!t)return{h:0,s:1,v:1,a:1};const n=t.r/255,a=t.g/255,e=t.b/255,i=Math.max(n,a,e),s=Math.min(n,a,e);let u=0;i!==s&&(i===n?u=60*(0+(a-e)/(i-s)):i===a?u=60*(2+(e-n)/(i-s)):i===e&&(u=60*(4+(n-a)/(i-s)))),u<0&&(u=u+360);const h=i===0?0:(i-s)/i,l=[u,h,i];return{h:l[0],s:l[1],v:l[2],a:t.a}}function Z(t){const{h:n,s:a,v:e,a:i}=t,s=e-e*a/2,u=s===1||s===0?0:(e-s)/Math.min(s,1-s);return{h:n,s:u,l:s,a:i}}function F(t){const{h:n,s:a,l:e,a:i}=t,s=e+a*Math.min(e,1-e),u=s===0?0:2-2*e/s;return{h:n,s:u,v:s,a:i}}function R(t){let{r:n,g:a,b:e,a:i}=t;return i===void 0?`rgb(${n}, ${a}, ${e})`:`rgba(${n}, ${a}, ${e}, ${i})`}function j(t){return R(o(t))}function d(t){const n=Math.round(t).toString(16);return("00".substr(0,2-n.length)+n).toUpperCase()}function B(t){let{r:n,g:a,b:e,a:i}=t;return`#${[d(n),d(a),d(e),i!==void 0?d(Math.round(i*255)):""].join("")}`}function H(t){t=C(t);let[n,a,e,i]=f.chunk(t,2).map(s=>parseInt(s,16));return i=i===void 0?i:i/255,{r:n,g:a,b:e,a:i}}function y(t){const n=H(t);return $(n)}function k(t){return B(o(t))}function C(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(n=>n+n).join("")),t.length!==6&&(t=f.padEnd(f.padEnd(t,6),8,"F")),t}function L(t,n,a){return t.replace(/([a-z]+(\s[a-z]+-[1-5])?)(?=$|,)/gi,e=>G(e,n,a)||e).replace(/(rgba\()#[0-9a-f]+(?=,)/gi,e=>"rgba("+Object.values(H(C(e.replace(/rgba\(/,"")))).slice(0,3).join(","))}function W(t,n){const a=b.fromXYZ(g.toXYZ(t));return a[0]=a[0]+n*10,g.fromXYZ(b.toXYZ(a))}function N(t,n){const a=b.fromXYZ(g.toXYZ(t));return a[0]=a[0]-n*10,g.fromXYZ(b.toXYZ(a))}function v(t){const n=c(t);return g.toXYZ(n)[1]}function P(t,n){const a=v(t),e=v(n),i=Math.max(a,e),s=Math.min(a,e);return(i+.05)/(s+.05)}function w(t){const n=Math.abs(M.APCAcontrast(c(0),c(t)));return Math.abs(M.APCAcontrast(c(16777215),c(t)))>Math.min(n,50)?"#fff":"#000"}r.HSLtoHSV=F,r.HSLtoRGB=m,r.HSVtoCSS=j,r.HSVtoHSL=Z,r.HSVtoHex=k,r.HSVtoRGB=o,r.HexToHSV=y,r.HexToRGB=H,r.RGBToInt=Y,r.RGBtoCSS=R,r.RGBtoHSV=$,r.RGBtoHex=B,r.classToHex=G,r.darken=N,r.getContrast=P,r.getForeground=w,r.getLuma=v,r.isCssColor=V,r.isParsableColor=T,r.lighten=W,r.parseColor=c,r.parseGradient=L,r.parseHex=C,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
